



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="author" content="Caelum"/>
	<meta name="reply-to" content="contato@caelum.com.br"/>
	<meta name="author" content="Design"/>
	<meta name="reply-to" content="lokidg@gmail.com"/>
	
		
		<link href="../../documentacao/includes/css/java.css" rel="stylesheet" type="text/css" media="screen" />
		<link href="../../documentacao/includes/css/xml2html.css" rel="stylesheet" type="text/css" media="screen" />
		<link href="../../documentacao/includes/css/style.css" rel="stylesheet" type="text/css" media="screen" />
	
	<meta name="description" content="VRaptor 3 - a Java web framework focused on fast development"/>
	<meta name="keywords" content="sites, web, desenvolvimento, development, java, opensource"/>
	<title>V|Raptor - High productivity in Java web development</title>
	<link href="../../screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../menu.css" rel="stylesheet" type="text/css" media="screen" />
    <!--[if lt IE 7]>
    <script src="http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js" type="text/javascript"></script>
    <![endif]-->
</head>

<body>
	<div id="headerWrap">
    	<div id="headerContent">
        	<h1 id="logoVraptor"><span>V|Raptor</span></h1><!-- vraptorlogo-->
            
            <ul id="langMenu">
            	<li><a id="engBtn" href="../../en/"><span>ENGLISH</span></a></li>
                <li><a id="ptBtn" href="../../pt/"><span>PORTUGUÊS</span></a></li>
            </ul><!-- langMenu-->            
        </div><!-- header content -->
    </div><!-- header wrap-->
    
    <div id="menuWrap">
    	<ul id="menuElementsEn">
        	<li><a id="homeBtnEn" href="../../en/"><span>home</span></a></li>
        	<li><a id="downloadBtnEn" href="../../en/download.jsp"><span>download</span></a></li>
        	<li><a id="documentacaoBtnEn" href="../../documentation/"><span>Documentation</span></a></li>
        	<li><a id="beneficiosBtnEn" href="../../benefits.jsp"><span>Benefits</span></a></li>
        	<li><a id="suporteBtnEn" href="../../support.jsp"><span>Support</span></a></li>
        	<li><a id="vraptor2BtnEn" href="../../en/vraptor2.jsp"><span>vraptor2</span></a></li>
        </ul><!-- menuElements-->
    </div><!-- menuWrap-->
<div id="contentWrap">
    	
			<ul id="subMenu">
				<li><a href="../../javadoc">Javadoc</a></li>
				<li>|</li>
				<li><a href="../../team.jsp">Team</a></li>
			</ul>
		<div id="contentDocumentacao">      	
			<div class="download"><a href="../vraptor3.pdf">Download as PDF</a></div>
        	<h2 class="title"><span>documentation</span></h2>
        	<h3 class="title">configuration, migration and utilization.</h3>            <div id="subMenuDoc">
            	<img id="positionTop" src="../includes/images/subMenuTop-trans.png" />
                <img id="positionBottom" src="../includes/images/subMenuBottom-trans.png" />
            	<ol type="1">
									<li><a class="link_toc" href="../../documentation/vraptor3-one-minute-guide/">1. VRaptor3 - One minute guide</a></li>
		
									<li><a class="link_toc" href="../../documentation/vraptor3-ten-minutes-guide/">2. VRaptor3 - Ten minutes guide</a></li>
		
									<li><a class="link_toc" href="../../documentation/resources-rest/">3. Resources-Rest</a></li>
		
									<li><a class="link_toc" href="../../documentation/components/">4. Components</a></li>
		
									<li><a class="link_toc" href="../../documentation/converters/">5. Converters</a></li>
		
									<li><a class="link_toc" href="../../documentation/interceptors/">6. Interceptors</a></li>
		
									<li><a class="link_toc" href="../../documentation/validation/">7. Validation</a></li>
		
									<li><a class="link_toc" href="../../documentation/view-and-ajax/">8. View and Ajax</a></li>
		
									<li><a class="link_toc" href="../../documentation/dependency-injection/">9. Dependency injection</a></li>
		
									<li><a class="link_toc" href="../../documentation/download-and-upload/">10. Download and Upload</a></li>
		
									<li><a class="link_toc" href="../../documentation/utility-components/">11. Utility Components</a></li>
		
									<li><a class="link_toc" href="../../documentation/advanced-configurations-overriding-vraptor-s-behavior-and-conventions/">12. Advanced configurations: overriding VRaptor's behavior and conventions</a></li>
		
									<li><a class="link_toc" href="../../documentation/google-app-engine/">13. Google App Engine</a></li>
		
									<li><a class="link_toc" href="../../documentation/testing-components-and-controllers/">14. Testing components and controllers</a></li>
		
									<li><a class="link_toc" href="../../documentation/scala/">15. Scala</a></li>
		
									<li><a class="link_toc" href="../../documentation/optimizations/">16. Optimizations</a></li>
		
									<li><a class="link_toc" href="../../documentation/vraptor-scaffold/">17. VRaptor Scaffold</a></li>
		
									<li><a class="link_toc" href="../../documentation/exception-handling/">18. Exception handling</a></li>
		
									<li><a class="link_toc" href="../../documentation/how-to-contribute-to-vraptor/">19. How to contribute to VRaptor</a></li>
		
									<li><a class="link_toc" href="../../documentation/changelog/">20. ChangeLog</a></li>
		
									<li><a class="link_toc" href="../../documentation/migrating-from-vraptor2-to-vraptor3/">21. Migrating from VRaptor2 to VRaptor3</a></li>
		
                </ol>
            </div><!-- submenu-->
                        
            <div id="textoCapitulo">
	
		<h2 class="chapter">Converters</h2>

		


<h3 class="section">Default</h3>
	    	<p>VRaptor registers a default set of converters for your day-to-day use.</p>
		

<h3 class="section">Primitive types</h3>
	    	<p>All primitive types (int, long etc) are supported.</p>
	    	<p>If the request parameter is empty or null, primitive type variables will be set to its default
value, as if it was a class attribute. In general:</p>
	    	<ul><li><p>boolean - false</p></li><li><p>short, int, long, double, float, byte - 0</p></li><li><p>char - caracter de c&oacute;digo 0</p></li></ul>
		

<h3 class="section">Primitive type wrappers</h3>
	    	<p>All primitive type wrappers (Integer, Long, Character, Boolean etc) are supported.</p>
		

<h3 class="section">Enum</h3>
	    	<p>Enums are also supported using the element's name or ordinal value.
In the following example, either 1 or DEBIT values are converted to Type.DEBIT:</p>
	    	<pre class="code text">

public enum Type {
	CREDIT, DEBIT
}

</pre>
		

<h3 class="section">BigInteger and BigDecimal</h3>
	    	<p>Both are supported using your JVM's default locale.</p>
		

<h3 class="section">Localized BigDecimal, Double e Float</h3>
	    	<p>Since version 3.1.2, VRaptor also supports localization for these types. In order to use them you must add to your web.xml:</p>
	    	<div class="xml"><code class="xml"><span class="textag">&lt;context-param&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;param-name&gt;</span><span class="texnormal">br.com.caelum.vraptor.packages</span><span class="textag">&lt;/param-name&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;param-value&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...previous&nbsp;value...,<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;br.com.caelum.vraptor.converter.l10n<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;/param-value&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;/context-param&gt;</span></code></div>
	    	<p>The converters uses the JVM's default locale. You can override the JVM locale adding these lines in your web.xml:</p>
	    	<div class="xml"><code class="xml"><span class="textag">&lt;context-param&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;param-name&gt;</span><span class="texnormal">javax.servlet.jsp.jstl.fmt.locale</span><span class="textag">&lt;/param-name&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;param-value&gt;</span><span class="texnormal">pt_BR</span><span class="textag">&lt;/param-value&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;/context-param&gt;</span></code></div>
		

<h3 class="section">Calendar and Date</h3>
	    	<p>Both LocaleBasedCalendarConverter and LocaleBasedDateConverter are based on the user's locale,
defined using JSTL pattern to understand the parameter's format.</p>
	    	<p>For example, if the locale is pt-br, then "18/09/1981" stands for September 18th 1981.
On the other hand, if the locale is en, the same date is formatted as "09/18/1981".</p>
		

<h3 class="section">Interface</h3>
	    	<p>All converters must implement VRaptor's Converter interface.
The concrete class will define which type it is able to convert, and will be invoked
with a request parameter, the target type and a resource bundle containing i18n messages,
useful if you wish to raise a ConversionException in case of convertion errors.</p>
	    	<pre class="code text">

public interface Converter&lt;T&gt; {
    T convert(String value, Class&lt;? extends T&gt; type, ResourceBundle bundle);
}

</pre>
	    	<p>Also, your must tell VRaptor (not the compiler) which type your converter is able to handle. You do that by annotating your converter class with @Convert:</p>
	    	<pre class="code text">

@Convert(Long.class)
public class LongConverter implements Converter&lt;Long&gt; {
	// ...
}

</pre>
	    	<p>Finally, don't forget to specify the scope of your converter, just like you do with any other resource in VRaptor.
For example, if your converter doesn't need any user specific information, it can be registered as application scoped and only one instance of that converter will be created:</p>
	    	<pre class="code text">

@Convert(Long.class)
@ApplicationScoped
public class LongConverter implements Converter&lt;Long&gt; {
	// ...
}

</pre>
	    	<p>In the following lines, you can see a LongConverter implementation, showing how simple it is to assemble all the information mentioned above:</p>
	    	<pre class="code text">

@Convert(Long.class)
@ApplicationScoped
public class LongConverter implements Converter&lt;Long&gt; {

    public Long convert(String value, Class&lt;? extends Long&gt; type, ResourceBundle bundle) {
        if (value == null || value.equals("")) {
            return null;
        }
        try {
            return Long.valueOf(value);
        } catch (NumberFormatException e) {
			throw new 
	ConversionError(MessageFormat.format(bundle.getString("is_not_a_valid_integer"), value));
        }
    }

}

</pre>
		

<h3 class="section">Registering a new converter</h3>
	    	<p>No further configuration is needed except implementing the Converter interface and annotating
the converter class with @Convert for your custom converter to be registered in VRaptor's container.</p>
		

<h3 class="section">More complex converters</h3>
		

</div><!-- content -->
            
        </div><!-- content cnt -->
    </div><!-- content wrap-->
    




		

    <div id="footerWrap">
    	<div id="footerContent">              
            <div id="suporteFooter">
	           	<a href="http://www.caelum.com.br/contato/" class="moreIcon" title="Saiba Mais"><span>+</span></a>
	           	<h3><a href="http://www.caelum.com.br/contato/">Support</a></h3>
                <p><a href="http://www.caelum.com.br/contato/">Get to know about our online support plans and be certain that your doubts and problems will be quickly solved.</a></p>            
            </div><!-- suporte-->
            <div id="consultoriaFooter">
           		<a href="http://www.caelum.com.br/servicos/consultoria/" class="moreIcon" title="Saiba Mais"><span>+</span></a>
           		<h3><a href="http://www.caelum.com.br/servicos/consultoria/">Consulting</a></h3>
                <p><a href="http://www.caelum.com.br/servicos/consultoria/">The VRaptor development team is available to help your development team. Learn about our consulting plans.</a></p>            
            </div><!-- consultoria-->
        	<div id="treinamentoFooter">
            	<a href="http://www.caelum.com.br/curso/fj-28-vraptor-hibernate-ajax/" class="moreIcon" title="Saiba Mais"><span>+</span></a><h3><a href="http://www.caelum.com.br/curso/fj-28-vraptor-hibernate-ajax/">Training</a></h3>
                <p><a href="http://www.caelum.com.br/curso/fj-28-vraptor-hibernate-ajax/">You have more than one option to train your team and receive support:</a></p>
                <a class="image" href="http://triadworks.com.br/"><img src="../../images/triadworks-logo.png" width="100" height="30"/></a>
                <a class="image" href="http://www.caelum.com.br/curso/online/vraptor"><img src="../../images/caelum-logo.png" width="100" height="31"/></a>
            </div><!--treinamento-->
     <div class="footbar">
            	<img class="logoFooter" src="../../images/logoCaelumGray-trans.png" alt="vraptor logo" />
                <ul>
                	<li>site map:</li>
                    <li><a href="../../en/">home</a></li>
                    <li>|</li>
                    <li><a href="../../en/download.jsp">download</a></li>
                    <li>|</li>
                    <li><a href="../../documentation/">Documentation</a></li>
                    <li>|</li>
                    <li><a href="../../benefits.jsp">Benefits</a></li>
                    <li>|</li>
                    <li><a href="../../support.jsp">Support</a></li>
                    <li>|</li>
                    <li><a href="../../en/vraptor2.jsp">vraptor2</a></li>
                </ul>
                <p><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a> - VRaptor ©2009 Caelum - Ensino e Inovação</p>
                <p>Profiled with <a href="http://www.ej-technologies.com/products/jprofiler/overview.html">JProfiler</a></p>
            </div><!-- footnote-->
        </div><!-- footer content -->
        <a id="signature" href="mailto:lokidg@gmail.com">loki|design</a>
    </div><!-- footer wrap-->
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
	try {
	var pageTracker = _gat._getTracker("UA-270161-11");
	pageTracker._trackPageview();
	} catch(err) {}
 </script>
    
</body>
</html>
