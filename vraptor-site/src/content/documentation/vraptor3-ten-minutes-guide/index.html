



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="author" content="Caelum"/>
	<meta name="reply-to" content="contato@caelum.com.br"/>
	<meta name="author" content="Design"/>
	<meta name="reply-to" content="lokidg@gmail.com"/>
	
		
		<link href="../../documentacao/includes/css/java.css" rel="stylesheet" type="text/css" media="screen" />
		<link href="../../documentacao/includes/css/xml2html.css" rel="stylesheet" type="text/css" media="screen" />
		<link href="../../documentacao/includes/css/style.css" rel="stylesheet" type="text/css" media="screen" />
	
	<meta name="description" content="VRaptor 3 - a Java web framework focused on fast development"/>
	<meta name="keywords" content="sites, web, desenvolvimento, development, java, opensource"/>
	<title>V|Raptor - High productivity in Java web development</title>
	<link href="../../screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../menu.css" rel="stylesheet" type="text/css" media="screen" />
    <!--[if lt IE 7]>
    <script src="http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js" type="text/javascript"></script>
    <![endif]-->
</head>

<body>
	<div id="headerWrap">
    	<div id="headerContent">
        	<h1 id="logoVraptor"><span>V|Raptor</span></h1><!-- vraptorlogo-->
            
            <ul id="langMenu">
            	<li><a id="engBtn" href="../../en/"><span>ENGLISH</span></a></li>
                <li><a id="ptBtn" href="../../pt/"><span>PORTUGUÊS</span></a></li>
            </ul><!-- langMenu-->            
        </div><!-- header content -->
    </div><!-- header wrap-->
    
    <div id="menuWrap">
    	<ul id="menuElementsEn">
        	<li><a id="homeBtnEn" href="../../en/"><span>home</span></a></li>
        	<li><a id="downloadBtnEn" href="../../en/download.jsp"><span>download</span></a></li>
        	<li><a id="documentacaoBtnEn" href="../../documentation/"><span>Documentation</span></a></li>
        	<li><a id="beneficiosBtnEn" href="../../benefits.jsp"><span>Benefits</span></a></li>
        	<li><a id="suporteBtnEn" href="../../support.jsp"><span>Support</span></a></li>
        	<li><a id="vraptor2BtnEn" href="../../en/vraptor2.jsp"><span>vraptor2</span></a></li>
        </ul><!-- menuElements-->
    </div><!-- menuWrap-->
<div id="contentWrap">
    	
			<ul id="subMenu">
				<li><a href="../../javadoc">Javadoc</a></li>
				<li>|</li>
				<li><a href="../../team.jsp">Team</a></li>
			</ul>
		<div id="contentDocumentacao">      	
			<div class="download"><a href="../vraptor3.pdf">Download as PDF</a></div>
        	<h2 class="title"><span>documentation</span></h2>
        	<h3 class="title">configuration, migration and utilization.</h3>            <div id="subMenuDoc">
            	<img id="positionTop" src="../includes/images/subMenuTop-trans.png" />
                <img id="positionBottom" src="../includes/images/subMenuBottom-trans.png" />
            	<ol type="1">
									<li><a class="link_toc" href="../../documentation/vraptor3-one-minute-guide/">1. VRaptor3 - One minute guide</a></li>
		
									<li><a class="link_toc" href="../../documentation/vraptor3-ten-minutes-guide/">2. VRaptor3 - Ten minutes guide</a></li>
		
									<li><a class="link_toc" href="../../documentation/resources-rest/">3. Resources-Rest</a></li>
		
									<li><a class="link_toc" href="../../documentation/components/">4. Components</a></li>
		
									<li><a class="link_toc" href="../../documentation/converters/">5. Converters</a></li>
		
									<li><a class="link_toc" href="../../documentation/interceptors/">6. Interceptors</a></li>
		
									<li><a class="link_toc" href="../../documentation/validation/">7. Validation</a></li>
		
									<li><a class="link_toc" href="../../documentation/view-and-ajax/">8. View and Ajax</a></li>
		
									<li><a class="link_toc" href="../../documentation/dependency-injection/">9. Dependency injection</a></li>
		
									<li><a class="link_toc" href="../../documentation/download-and-upload/">10. Download and Upload</a></li>
		
									<li><a class="link_toc" href="../../documentation/utility-components/">11. Utility Components</a></li>
		
									<li><a class="link_toc" href="../../documentation/advanced-configurations-overriding-vraptor-s-behavior-and-conventions/">12. Advanced configurations: overriding VRaptor's behavior and conventions</a></li>
		
									<li><a class="link_toc" href="../../documentation/google-app-engine/">13. Google App Engine</a></li>
		
									<li><a class="link_toc" href="../../documentation/testing-components-and-controllers/">14. Testing components and controllers</a></li>
		
									<li><a class="link_toc" href="../../documentation/scala/">15. Scala</a></li>
		
									<li><a class="link_toc" href="../../documentation/optimizations/">16. Optimizations</a></li>
		
									<li><a class="link_toc" href="../../documentation/vraptor-scaffold/">17. VRaptor Scaffold</a></li>
		
									<li><a class="link_toc" href="../../documentation/exception-handling/">18. Exception handling</a></li>
		
									<li><a class="link_toc" href="../../documentation/how-to-contribute-to-vraptor/">19. How to contribute to VRaptor</a></li>
		
									<li><a class="link_toc" href="../../documentation/changelog/">20. ChangeLog</a></li>
		
									<li><a class="link_toc" href="../../documentation/migrating-from-vraptor2-to-vraptor3/">21. Migrating from VRaptor2 to VRaptor3</a></li>
		
                </ol>
            </div><!-- submenu-->
                        
            <div id="textoCapitulo">
	
		<h2 class="chapter">VRaptor3 - Ten minutes guide</h2>

		


<h3 class="section">Starting a project: an online store</h3>
	    	<p>Let's start by downloading the <em>vraptor-blank-project</em> from 
<a href="http://vraptor.caelum.com.br/download.jsp">http://vraptor.caelum.com.br/download.jsp</a> . This blank-project has the required configuration on 
<code>web.xml</code> and the dependencies on <code>WEB-INF/lib</code> that are needed to start using VRaptor. </p>
	    	<p>As you can see, the only required configuration in <code>web.xml</code> is the VRaptor filter:</p>
	    	<div class="xml"><code class="xml"><span class="textag">&lt;filter&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;filter-name&gt;</span><span class="texnormal">vraptor</span><span class="textag">&lt;/filter-name&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;filter-class&gt;</span><span class="texnormal">br.com.caelum.vraptor.VRaptor</span><span class="textag">&lt;/filter-class&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;/filter&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;filter-mapping&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;filter-name&gt;</span><span class="texnormal">vraptor</span><span class="textag">&lt;/filter-name&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;url-pattern&gt;</span><span class="texnormal">/*</span><span class="textag">&lt;/url-pattern&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;dispatcher&gt;</span><span class="texnormal">FORWARD</span><span class="textag">&lt;/dispatcher&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;dispatcher&gt;</span><span class="texnormal">REQUEST</span><span class="textag">&lt;/dispatcher&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;/filter-mapping&gt;</span></code></div>
	    	<p>You can also easily import this project on Eclipse, and run it right clicking on it and choosing
<em>Run as... / Run on server...</em>. Choose a servlet container (or setup a new one) and then just go
for <a href="http://localhost:8080/vraptor-blank-project/.">http://localhost:8080/vraptor-blank-project/.</a> </p>
	    	<p>You can right click on the project name, go to <em>Properties</em> and in <em>Web Project Settings</em> you can change
the context name to something better, like <code>onlinestore</code>. Now if you run
this example you should be able to access <a href="http://localhost:8080/onlinestore">http://localhost:8080/onlinestore</a> and see
<strong>It works!</strong> on the browser.</p>
	    	<div class="box"><h4>Note</h4>
<p>If you are using a servlet 3.0 container, you dont even need the <code>web.xml</code> at all,
because VRaptor will configure the filter through the new web-fragments feature.</p></div>
		

<h3 class="section">Product registry</h3>
	    	<p>Let's start the system with a products registry. We need a class that will represent the products,
and we'll use it to persist products on the database, with Hibernate:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Entity<br />
</span><span class="java4">public class </span><span class="java10">Product </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java16">@Id<br />
&nbsp;&nbsp;&nbsp; @GeneratedValue<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private </span><span class="java10">Long id;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private </span><span class="java10">String name;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private </span><span class="java10">String description;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private </span><span class="java10">Double price;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java3">//getter and setters<br />
</span><span class="java8">}</span></code></div>
	    	<p>We also need a class that will <em>control</em> the products' register, handling web requests.
This class will be the Products <code>Controller</code>:</p>
	    	<div class="java"><code class="java">
<span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
}</span></code></div>
	    	<p>ProductsController will expose URIs to be accessed through web, i.e, will expose resources of your
application. And for indicate it, you must annotate it with <code>@Resource</code>:</p>
	    	<div class="java"><code class="java">
<strong><span class="java16">@Resource<br /></strong>
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
}</span></code></div>
	    	<p>By using this annotation, all public methods of the annotated class will be reachable through web.
For instance, if there is a <code>list</code> method on the class:</p>
	    	<div class="java"><code class="java">
<strong><span class="java16">@Resource<br /></strong>
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">List&lt;Product&gt; list</span><span class="java8">() {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">return new </span><span class="java10">ArrayList&lt;Product&gt;</span><span class="java8">()</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
}</span></code></div>
	    	<p>Then, VRaptor will automatically redirect all requests to the URI <code>/products/list</code> to this method.
The convention for URIs is: <code>/&lt;controller_name&gt;/&lt;method_name&gt;</code>.</p>
	    	<p>At the end of method execution, VRaptor will <code>dispatch</code> the request to the jsp at
<code>/WEB-INF/jsp/products/list.jsp</code>. The convention for the default view is
<code>/WEB-INF/jsp/&lt;controller_name&gt;/&lt;method_name&gt;.jsp</code>.</p>
	    	<p>The <code>list</code> method will return a product list, so how can I get it on jsp? On VRaptor, 
the method return value will be exported to the jsp by request attributes. In this case,
the name of the exported attribute will be <code>productList</code>, holding the method returned value:</p>
	    	<p>list.jsp</p>
	    	<div class="xml"><code class="xml"><span class="textag">&lt;ul&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;c:forEach</span>&nbsp;<span class="texattrib">items=</span><span class="texvalue">"${productList}"</span>&nbsp;<span class="texattrib">var=</span><span class="texvalue">"product"</span><span class="textag">&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;li&gt;</span><span class="texnormal">&nbsp;${product.name}&nbsp;-&nbsp;${product.description}&nbsp;</span><span class="textag">&lt;/li&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;/c:forEach&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;/ul&gt;</span></code></div>
	    	<p>The convention for the attribute names is pretty intuitive: if it is a collection, as it is the case,
the name will be <code>&lt;collection_type&gt;List</code>; if it is any other type, the name will be the class name
with the first letter in lowercase, i.e, if the type is <code>Product</code>, the name will be <code>product</code>.</p>
	    	<p>We will see further, in another chapter, that we can outject more than one object using
<code>Result</code>, where we can also name each exposed variable to the JSP.</p>
		

<h3 class="section">Creating ProductDao: Dependency Injection</h3>
	    	<p>VRaptor widely uses the Dependency Injection and Inversion of Control concept.
The whole idea is simple: if you need a resource, you won't create it, but will have it ready for 
you when you ask for it. You can get more information about it on the Dependency Injection chapter.</p>
	    	<p>We are returning a hard coded empty list on our list method. It would be more helpful if we
return a real list, for example all of registered products of the system. In order to do that,
let's create a product DAO, for listing the products:</p>
	    	<div class="java"><code class="java">
<span class="java4">public class </span><span class="java10">ProductDao </span><span class="java8">{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">List&lt;Product&gt; listAll</span><span class="java8">() {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">return new </span><span class="java10">ArrayList&lt;Product&gt;</span><span class="java8">()</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
}</span></code></div>
	    	<p>And in the ProductsController we might use the dao for listing products:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Resource<br />
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private </span><span class="java10">ProductDao dao;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">List&lt;Product&gt; list</span><span class="java8">() {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">return </span><span class="java10">dao.listAll</span><span class="java8">()</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
}</span></code></div>
	    	<p>We could create a new ProductDao inside the controller, but we can simply loose coupling by
receiving it on the class constructor, and letting VRaptor do its Dependency Management Magic
and provide an instance of ProductDao when creating our controller! And for enabling this
behavior we only have to annotate the ProductDao class with @Component:</p>
	    	<div class="java"><code class="java">
<strong><span class="java16">@Component<br /></strong>
</span><span class="java4">public class </span><span class="java10">ProductDao </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java3">//...<br />
</span><span class="java8">}<br />
<br />
</span><span class="java16">@Resource<br />
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private </span><span class="java10">ProductDao dao;<br />
<br />
<strong>&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">ProductsController</span><span class="java8">(</span><span class="java10">ProductDao dao</span><span class="java8">) {<br /></strong>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">this</span><span class="java10">.dao = dao;<br /></strong>
<strong>&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br /></strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">List&lt;Product&gt; list</span><span class="java8">() {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">return </span><span class="java10">dao.listAll</span><span class="java8">()</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
}</span></code></div>
		

<h3 class="section">Add form: redirecting the request</h3>
	    	<p>We have a Products listing, but no way to register products. Thus, let's create a
form for adding products. Since it is not a good idea to access the jsps directly,
let's create an empty method that only redirects to a jsp:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Resource<br />
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java3">//...<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">form</span><span class="java8">() {<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span></code></div>
	    	<p>So we can access the form by URI <code>/products/form</code>, and the form will be at
<code>/WEB-INF/jsp/products/form.jsp</code>:</p>
	    	<div class="xml"><code class="xml"><span class="textag">&lt;form</span>&nbsp;<span class="texattrib">action=</span><span class="texvalue">"&lt;c:url&nbsp;value="</span>/products/adiciona"<span class="textag">/&gt;</span><span class="texnormal">"&gt;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;input</span>&nbsp;<span class="texattrib">type=</span><span class="texvalue">"text"</span>&nbsp;<span class="texattrib">name=</span><span class="texvalue">"product.name"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal"><span class="textag">&lt;br/&gt;</span><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;Description:</span><span class="textag">&lt;input</span>&nbsp;<span class="texattrib">type=</span><span class="texvalue">"text"</span>&nbsp;<span class="texattrib">name=</span><span class="texvalue">"product.description"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal"><span class="textag">&lt;br/&gt;</span><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;Price:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;input</span>&nbsp;<span class="texattrib">type=</span><span class="texvalue">"text"</span>&nbsp;<span class="texattrib">name=</span><span class="texvalue">"product.price"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal"><span class="textag">&lt;br/&gt;</span><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;input</span>&nbsp;<span class="texattrib">type=</span><span class="texvalue">"submit"</span>&nbsp;<span class="texattrib">value=</span><span class="texvalue">"Save"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;/form&gt;</span></code></div>
	    	<p>This form will save a product using the URI <code>/products/add</code>, so we must create
this method on the controller:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Resource<br />
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java3">//...<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">add</span><span class="java8">() {<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span></code></div>
	    	<p>Look at the input names: <strong>product.name</strong>, <strong>product.description</strong> and <strong>product.price</strong>.
If we receive a <code>Product</code> named <code>product</code> as parameter on add method, VRaptor will 
set the fields <strong>name</strong>, <strong>description</strong> and <strong>price</strong> with the input values, using
the corresponding setters on Product. The <strong>product.price</strong> parameter will also be converted
into Double before being set on the product. More information on Converters chapter.</p>
	    	<p>Thus, having the correct names on the form inputs, we can create the add method:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Resource<br />
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java3">//...<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">add</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java10">dao.save</span><span class="java8">(</span><span class="java10">product</span><span class="java8">)</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
}</span></code></div>
	    	<p>Right after saving something on a form we usually want to be redirected to the listing
or back to the form. In this case we want to be redirected to the products listing.
For this purpose there is a VRaptor component: the <code>Result</code>. It is responsible for 
adding attributes on the request, and for dispatching to a different view. To get a Result
instance you must receive it as a constructor parameter:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Resource<br />
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">ProductsController</span><span class="java8">(</span><span class="java10">ProductDao dao, Result result</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">this</span><span class="java10">.dao = dao;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">this</span><span class="java10">.result = result;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
}</span></code></div>
	    	<p>In order to redirect to the listing, you can use the result object:</p>
	    	<div class="java"><code class="java">
<span class="java10">result.redirectTo</span><span class="java8">(</span><span class="java10">ProductsController.</span><span class="java4">class</span><span class="java8">)</span><span class="java10">.list</span><span class="java8">()</span><span class="java10">;</span></code></div>
	    	<p>This code snippet can be read as: <em>As result, redirect to the 
list method in ProductsController</em>. All redirect configuration is 100% java code, 
with no strings involved! It's clear from the code that the result from your logic
is not the default, and which one you're using. There is no need to worry about 
configuration files. Furthermore, if you need to rename the <code>list</code> method, there
is no need to go through your entire application looking for redirects to this method,
just use your usual refactoring IDE to do the rename.</p>
	    	<p>Our <code>add</code> method would look like this:</p>
	    	<div class="java"><code class="java">
<span class="java4">public </span><span class="java9">void </span><span class="java10">add</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="java10">dao.add</span><span class="java8">(</span><span class="java10">product</span><span class="java8">)</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; result.redirectTo</span><span class="java8">(</span><span class="java10">ProductsController.</span><span class="java4">class</span><span class="java8">)</span><span class="java10">.list</span><span class="java8">()</span><span class="java10">;<br />
</span><span class="java8">}</span></code></div>
	    	<p>You can get more info on <code>Result</code> at the Views and Ajax chapter.</p>
		

<h3 class="section">Validation</h3>
	    	<p>It wouldn't make sense adding a nameless product in the system, nor a negative value for it's price.
Before adding the product, we need to check if it is a valid product - which has a name and a positive price. In case it's not valid, we want to get back to the form and show error messages.</p>
	    	<p>In order to do that, we can use a VRaptor component: the Validator. You can get it in your Controller's constructor and use it like this:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Resource<br />
</span><span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">ProductsController</span><span class="java8">(</span><span class="java10">ProductDao dao, Result result, Validator validator</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java3">//...<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">this</span><span class="java10">.validator = validator;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">add</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {<br />
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java10">validator.checking</span><span class="java8">(</span><span class="java4">new </span><span class="java10">Validations</span><span class="java8">() {{<br /></strong>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java10">that</span><span class="java8">(</span><span class="java10">!product.getName</span><span class="java8">()</span><span class="java10">.isEmpty</span><span class="java8">()</span><span class="java10">, </span><span class="java5">&#34;product.name&#34;</span><span class="java10">, </span><span class="java5">&#34;nome.empty&#34;</span><span class="java8">)</span><span class="java10">;<br /></strong>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; that</span><span class="java8">(</span><span class="java10">product.getPrice</span><span class="java8">() </span><span class="java10">&gt; </span><span class="java7">0</span><span class="java10">, </span><span class="java5">&#34;product.price&#34;</span><span class="java10">, </span><span class="java5">&#34;price.invalid&#34;</span><span class="java8">)</span><span class="java10">;<br /></strong>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java8">}})</span><span class="java10">;<br /></strong>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; validator.onErrorUsePageOf</span><span class="java8">(</span><span class="java10">ProductsController.</span><span class="java4">class</span><span class="java8">)</span><span class="java10">.form</span><span class="java8">()</span><span class="java10">;<br /></strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dao.add</span><span class="java8">(</span><span class="java10">product</span><span class="java8">)</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result.redirectTo</span><span class="java8">(</span><span class="java10">ProductsController.</span><span class="java4">class</span><span class="java8">)</span><span class="java10">.list</span><span class="java8">()</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
}</span></code></div>
	    	<p>we can read the validation code as <em>Validate that the name of the product is not empty and that
the product's price is bigger than zero. If an error occur, use the ProductsController form page as 
the result</em>. Therefore, if the product name is empty, the "name.empty" internationalized message will be added to the "product.name" field. If any error occurs, the system will get the user back to the form page, with all fields set, and error messages that can be accessed like this:</p>
	    	<div class="xml"><code class="xml"><span class="textag">&lt;c:forEach</span>&nbsp;<span class="texattrib">var=</span><span class="texvalue">"error"</span>&nbsp;<span class="texattrib">items=</span><span class="texvalue">"${errors}"</span><span class="textag">&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;${error.category}&nbsp;&nbsp;${error.message}</span><span class="textag">&lt;br</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal"><br /></span>
<span class="texnormal"></span><span class="textag">&lt;/c:forEach&gt;</span></code></div>
	    	<p>More information on Validation on, well, Validations chapter.</p>
	    	<p>If you learnt what we said so far, you're able to make 90% of your application. Next sessions on 
this tutorial show the solution for some of the most frequent problems that lay on that 10% left.</p>
	    	<p>[sectin Using Hibernate to store Products]</p>
	    	<p>Let's make a real implementation of ProductDao, now, using Hibernate to persist products. You'll 
need a Session in your ProductDao. Using injection of dependencies, you'll have to declare you'll 
receive a Session in your constructor.</p>
	    	<div class="java"><code class="java">
<span class="java16">@Component<br />
</span><span class="java4">public class </span><span class="java10">ProductDao </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private </span><span class="java10">Session session;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">ProductDao</span><span class="java8">(</span><span class="java10">Session session</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">this</span><span class="java10">.session = session;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">add</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java10">session.save</span><span class="java8">(</span><span class="java10">product</span><span class="java8">)</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; </span><span class="java3">//...<br />
</span><span class="java8">}</span></code></div>
	    	<p>But, wait, for VRaptor to know how to create that Session, and I can't simply put a @Component on 
the Session class because it is a Hibernate class. That's the reason why the ComponentFactory 
interface was created. More info on creating your own ComponentFactories can be found in Components 
chapter. You can also use the ComponentFactories available in VRaptor, as shown in the Utils 
chapter.</p>
		

<h3 class="section">Controlling transactions: Interceptors</h3>
	    	<p>We often want to intercept as requests (or some of them) and execute a business logic, such as in a 
transaction control. That why VRaptor has interceptors. Learn more about them on the Interceptors' 
chapter. There is also an implemented TransactionInterceptor in VRaptor - learn how to use it on the Utils chapter.</p>
		

<h3 class="section">Shopping Cart: session components</h3>
	    	<p>If we want to make a shopping cart in our system, we need some way to keep cart items in the user's 
session. In order to do it, we can create a session scoped component, i.e., a component that will 
last as long as the user session last. For that, simply create a component and annotate it with 
@SessionScoped:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Component<br />
@SessionScoped<br />
</span><span class="java4">public class </span><span class="java10">ShoppingCart </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private </span><span class="java10">List&lt;Product&gt; items = </span><span class="java4">new </span><span class="java10">ArrayList&lt;Product&gt;</span><span class="java8">()</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">List&lt;Product&gt; getAllItems</span><span class="java8">() {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">return </span><span class="java10">items;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">addItem</span><span class="java8">(</span><span class="java10">Product item</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java10">items.add</span><span class="java8">(</span><span class="java10">item</span><span class="java8">)</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
}</span></code></div>
	    	<p>As this shopping cart is a component, we can receive it on the shopping cart's Controller's 
constructor:</p>
	    	<div class="java"><code class="java">
<span class="java16">@Resource<br />
</span><span class="java4">public class </span><span class="java10">ShoppingCartController </span><span class="java8">{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">private final </span><span class="java10">ShoppingCart cart;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">ShoppingCartController</span><span class="java8">(</span><span class="java10">ShoppingCart cart</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">this</span><span class="java10">.cart = cart;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">add</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java10">cart.addItem</span><span class="java8">(</span><span class="java10">product</span><span class="java8">)</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">List&lt;Product&gt; listItems</span><span class="java8">() {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="java4">return </span><span class="java10">cart.getAllItems</span><span class="java8">()</span><span class="java10">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="java8">}<br />
}</span></code></div>
	    	<p>Besides session scope, there is also the application scope and the @ApplicationScoped annotation.
Components annotated with @ApplicationScoped will be created only once for the whole application.</p>
		

<h3 class="section">A bit of REST</h3>
	    	<p>On REST's ideal of URIs identifying resources on the web to make good use of the structural 
advantages the HTTP protocol provides us, observe how simple it is, in VRaptor, mapping the 
different HTTP methods in the same URI to invoke different Controllers' methods. Suppose we 
want to use the following URIs on the products' crud:</p>
	    	<pre class="code text">

	GET /products - list all products
	POST /products - insert a product
	GET /products/{id} - show product identified by id
	PUT /products/{id} - update product identified by id
	DELETE /products/{id} - delete product identified by id

</pre>
	    	<p>In order to create a REST behaviour in VRaptor, we can use the @Path annotations - that changes
the URI to access a given method. Also, we use the annotations that indicate which HTTP methods 
are allowed to call that logic - @Get, @Post, @Delete and @Put.</p>
	    	<p>A REST version of our <code>ProductsControler</code> would be something like that:</p>
	    	<div class="java"><code class="java">
<span class="java4">public class </span><span class="java10">ProductsController </span><span class="java8">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="java3">//...<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java16">@Get @Path</span><span class="java8">(</span><span class="java5">&#34;/products&#34;</span><span class="java8">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java10">List&lt;Product&gt; list</span><span class="java8">() {</span><span class="java10">...</span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java16">@Post</span><span class="java8">(</span><span class="java5">&#34;/products&#34;</span><span class="java8">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">add</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {</span><span class="java10">...</span><span class="java8">}<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="java16">@Get</span><span class="java8">(</span><span class="java5">&#34;/products/{product.id}&#34;</span><span class="java8">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">view</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {</span><span class="java10">...</span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java16">@Put</span><span class="java8">(</span><span class="java5">&#34;/products/{product.id}&#34;</span><span class="java8">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">update</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {</span><span class="java10">...</span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="java16">@Delete</span><span class="java8">(</span><span class="java5">&#34;/products/{product.id}&#34;</span><span class="java8">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="java4">public </span><span class="java9">void </span><span class="java10">remove</span><span class="java8">(</span><span class="java10">Product product</span><span class="java8">) {</span><span class="java10">...</span><span class="java8">}<br />
&nbsp;&nbsp;&nbsp; <br />
}</span></code></div>
	    	<p>Note we can receive parameters on the URIs. For instance, if we can the <strong>GET /products/5</strong> URI, 
the <code>view</code> method will be invoked and the <code>product</code> parameter will have its id set as <code>5</code>.</p>
	    	<p>More info on that are on the REST Resources chapter.</p>
		

<h3 class="section">Message bundle File</h3>
	    	<p>Internationalization (i18n) is a powerful feature present in almost all Web frameworks 
nowadays. And it’s no different with VRaptor3. With i18n you can make your applications 
support several different languages (such as French, Portuguese, Spanish, English, etc) 
in a very easy way: simply translating the application messages.</p>
	    	<p>In order to support i18n, you must create a file called <code>messages.properties</code> and make 
it available in your application classpath (<code>WEB-INF/classes</code>). That file contains 
lines which are a set of key/value entries, for example:</p>
	    	<pre class="code properties">

	field.userName = Username 
	field.password = Password

</pre>
	    	<p>So far, it’s easy, but what if you want to create files containing messages in other 
languages, for example, Portuguese? Also easy. You just need to create another properties 
file called <code>messages_pt_BR.properties</code>. Notice the suffix <em>_pt_BR</em> on the file name. 
It indicates that when the user access your application from his computer configured with 
Brazilian Portuguese locale, the messages in this file will be used. The file contents 
would be:</p>
	    	<pre class="code properties">

field.userName = Nome do Usu&aacute;rio
field.password = Senha

</pre>
	    	<p>Notice that the keys are the same in both files, what changes is the value to the specific 
language.</p>
	    	<p>In order to use those messages in your JSP files, you could use JSTL. The code would go 
as follows:</p>
	    	<div class="xml"><code class="xml"><span class="textag">&lt;html&gt;</span><span class="texnormal">&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;body&gt;</span><span class="texnormal">&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;fmt:message</span>&nbsp;<span class="texattrib">key=</span><span class="texvalue">"field.userName"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal">&nbsp;</span><span class="textag">&lt;input</span>&nbsp;<span class="texattrib">name=</span><span class="texvalue">"user.userName"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal">&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;br</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal">&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;fmt:message</span>&nbsp;<span class="texattrib">key=</span><span class="texvalue">"field.password"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal">&nbsp;</span><span class="textag">&lt;input</span>&nbsp;<span class="texattrib">type=</span><span class="texvalue">"password"</span>&nbsp;<span class="texattrib">name=</span><span class="texvalue">"user.password"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal">&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;input</span>&nbsp;<span class="texattrib">type=</span><span class="texvalue">"submit"</span>&nbsp;<span class="textag">/&gt;</span><span class="texnormal">&nbsp;<br /></span>
<span class="texnormal">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="textag">&lt;/body&gt;</span><span class="texnormal">&nbsp;<br /></span>
<span class="texnormal"></span><span class="textag">&lt;/html&gt;</span></code></div>
		

</div><!-- content -->
            
        </div><!-- content cnt -->
    </div><!-- content wrap-->
    




		

    <div id="footerWrap">
    	<div id="footerContent">              
            <div id="suporteFooter">
	           	<a href="http://www.caelum.com.br/contato/" class="moreIcon" title="Saiba Mais"><span>+</span></a>
	           	<h3><a href="http://www.caelum.com.br/contato/">Support</a></h3>
                <p><a href="http://www.caelum.com.br/contato/">Get to know about our online support plans and be certain that your doubts and problems will be quickly solved.</a></p>            
            </div><!-- suporte-->
            <div id="consultoriaFooter">
           		<a href="http://www.caelum.com.br/servicos/consultoria/" class="moreIcon" title="Saiba Mais"><span>+</span></a>
           		<h3><a href="http://www.caelum.com.br/servicos/consultoria/">Consulting</a></h3>
                <p><a href="http://www.caelum.com.br/servicos/consultoria/">The VRaptor development team is available to help your development team. Learn about our consulting plans.</a></p>            
            </div><!-- consultoria-->
        	<div id="treinamentoFooter">
            	<a href="http://www.caelum.com.br/curso/fj-28-vraptor-hibernate-ajax/" class="moreIcon" title="Saiba Mais"><span>+</span></a><h3><a href="http://www.caelum.com.br/curso/fj-28-vraptor-hibernate-ajax/">Training</a></h3>
                <p><a href="http://www.caelum.com.br/curso/fj-28-vraptor-hibernate-ajax/">Caelum offers the oficial VRaptor training, with Hibernate and Ajax, focusing on the best practices concerning VRaptor. Click and find out more about it.</a></p>
            </div><!--treinamento-->
     <div class="footbar">
            	<img class="logoFooter" src="../../images/logoCaelumGray-trans.png" alt="vraptor logo" />
                <ul>
                	<li>site map:</li>
                    <li><a href="../../en/">home</a></li>
                    <li>|</li>
                    <li><a href="../../en/download.jsp">download</a></li>
                    <li>|</li>
                    <li><a href="../../documentation/">Documentation</a></li>
                    <li>|</li>
                    <li><a href="../../benefits.jsp">Benefits</a></li>
                    <li>|</li>
                    <li><a href="../../support.jsp">Support</a></li>
                    <li>|</li>
                    <li><a href="../../en/vraptor2.jsp">vraptor2</a></li>
                </ul>
                <p><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a> - VRaptor ©2009 Caelum - Ensino e Inovação</p>
                <p>Profiled with <a href="http://www.ej-technologies.com/products/jprofiler/overview.html">JProfiler</a></p>
            </div><!-- footnote-->
        </div><!-- footer content -->
        <a id="signature" href="mailto:lokidg@gmail.com">loki|design</a>
    </div><!-- footer wrap-->
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
	try {
	var pageTracker = _gat._getTracker("UA-270161-11");
	pageTracker._trackPageview();
	} catch(err) {}
 </script>
    
</body>
</html>
